import{u as r}from"./device-DskUdwi2.js";import{_ as c}from"./DeviceForm.vue_vue_type_script_setup_true_lang-QDHE-X8U.js";import{d as n,h as i,k as u,e as d,i as m,b as l,u as p,o as v}from"./index-DwLw2ijU.js";const y=n({__name:"EditDevice",setup(f){const a=r(),s=u();i(async()=>{const e=s.params.id;await a.fetchDeviceById(e)});const o=async e=>{try{await a.updateDevice(s.params.id,e),ElMessage.success("设备更新成功")}catch{ElMessage.error("设备更新失败")}};return(e,t)=>(v(),d("div",null,[t[0]||(t[0]=m("h2",null,"编辑设备",-1)),l(c,{deviceData:p(a).currentDevice,onSubmit:o},null,8,["deviceData"])]))}});export{y as default};
