import{u as k}from"./device-DskUdwi2.js";import{d as b,r as V,c as w,w as a,a as s,b as l,g as _,o as q,e as N,i as P}from"./index-DwLw2ijU.js";const C=b({__name:"PurchaseRequestForm",props:{requestData:{type:Object,default:()=>({})}},emits:["submit"],setup(p,{emit:m}){const i=p,d=m,r=V(),t=V({...i.requestData}),y=async()=>{try{await r.value.validate(),d("submit",t.value)}catch(f){console.error("表单验证失败:",f)}},x=()=>{r.value.resetFields()};return(f,e)=>{const n=s("el-input"),u=s("el-form-item"),c=s("el-input-number"),v=s("el-button"),U=s("el-form");return q(),w(U,{model:t.value,"label-width":"120px",ref_key:"formRef",ref:r},{default:a(()=>[l(u,{label:"设备名称",prop:"deviceName",required:""},{default:a(()=>[l(n,{modelValue:t.value.deviceName,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.deviceName=o)},null,8,["modelValue"])]),_:1}),l(u,{label:"型号",prop:"model",required:""},{default:a(()=>[l(n,{modelValue:t.value.model,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.model=o)},null,8,["modelValue"])]),_:1}),l(u,{label:"规格",prop:"specification"},{default:a(()=>[l(n,{modelValue:t.value.specification,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.specification=o)},null,8,["modelValue"])]),_:1}),l(u,{label:"数量",prop:"quantity",required:""},{default:a(()=>[l(c,{modelValue:t.value.quantity,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.quantity=o),min:1},null,8,["modelValue"])]),_:1}),l(u,{label:"预估单价",prop:"estimatedPrice",required:""},{default:a(()=>[l(c,{modelValue:t.value.estimatedPrice,"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.estimatedPrice=o),min:0,precision:2},null,8,["modelValue"])]),_:1}),l(u,{label:"申请原因",prop:"reason",required:""},{default:a(()=>[l(n,{modelValue:t.value.reason,"onUpdate:modelValue":e[5]||(e[5]=o=>t.value.reason=o),type:"textarea",rows:3,placeholder:"详细说明申请购买的原因和用途"},null,8,["modelValue"])]),_:1}),l(u,{label:"申请人",prop:"requester",required:""},{default:a(()=>[l(n,{modelValue:t.value.requester,"onUpdate:modelValue":e[6]||(e[6]=o=>t.value.requester=o)},null,8,["modelValue"])]),_:1}),l(u,null,{default:a(()=>[l(v,{type:"primary",onClick:y},{default:a(()=>e[7]||(e[7]=[_("提交申请")])),_:1}),l(v,{onClick:x},{default:a(()=>e[8]||(e[8]=[_("重置")])),_:1})]),_:1})]),_:1},8,["model"])}}}),D=b({__name:"AddPurchaseRequest",setup(p){const m=k(),i=async d=>{try{await m.addPurchaseRequest(d),ElMessage.success("采购申请添加成功")}catch{ElMessage.error("采购申请添加失败")}};return(d,r)=>(q(),N("div",null,[r[0]||(r[0]=P("h2",null,"添加采购申请",-1)),l(C,{requestData:{},onSubmit:i})]))}});export{D as default};
